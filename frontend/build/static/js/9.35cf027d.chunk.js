(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{821:function(e,t,a){},845:function(e,t,a){"use strict";a.r(t);var n=a(67),c=a(27),l=a(23),o=a.n(l),r=a(49),s=a(17),d=a(0),i=a(788),j=a(666),b=a(90),u=a(41),p=a.n(u),h=(a(821),a(62)),m=a(2);t.default=function(){var e=Object(d.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],u=Object(d.useState)({Name:"",Type:"",asset:"",category:"",gateway:"",model:"",latitude:"",longitude:""}),O=Object(s.a)(u,2),y=O[0],x=O[1],g=Object(d.useState)({}),v=Object(s.a)(g,2),C=v[0],N=v[1],k=Object(d.useState)(!1),f=Object(s.a)(k,2),I=f[0],L=f[1],w=y.Name,G=y.Type,T=y.asset,D=y.category,E=y.gateway,F=y.model,A=y.latitude,S=y.longitude,M=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={Name:w,Type:G,ConnectedAssetName:T,category:D,Gateway_Name:E,model:F,latitude:A,longitude:S},console.log(a),n={headers:{"Content-Type":"application/json"}},c=J(),!(Object.keys(c).length>0)){e.next=9;break}N(c),e.next=15;break;case 9:return e.next=11,p.a.post("/device/add_device",a,n);case 11:r=e.sent,s=r.data,console.log(s),l(!0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e={};return w&&""!==w?w.length>30&&(e.name="name is too long!"):e.Name="Name cannot be blank!",G&&""!==G||(e.Type="select a Type!"),T&&""!==T||(e.asset="must assign an asset!"),D&&""!==D||(e.category=" category cannot be blank!"),F&&""!==F||(e.model=" model cannot be blank!"),A&&""!==A||(e.latitude=" latitude cannot be blank!"),S&&""!==S||(e.longitude=" longitude cannot be blank!"),e},_=function(e){x(Object(c.a)(Object(c.a)({},y),{},Object(n.a)({},e.target.name,e.target.value))),C[e.target.name]&&N(Object(c.a)(Object(c.a)({},C),{},Object(n.a)({},e.target.name,null)))};return console.log(I),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.a,{children:[Object(m.jsx)("h1",{children:"Add New Device"}),Object(m.jsxs)(i.a,{onSubmit:M,children:[Object(m.jsxs)(i.a.Group,{controlId:"Device Name",children:[Object(m.jsx)(i.a.Label,{children:"Device Name"}),Object(m.jsx)(i.a.Control,{type:"text",placeholder:"Enter Device Name",name:"Name",value:w,onChange:_,isInvalid:!!C.Name}),Object(m.jsx)(i.a.Control.Feedback,{type:"invalid",children:C.Name})]}),Object(m.jsxs)(i.a.Group,{controlId:"Category",children:[Object(m.jsx)(i.a.Label,{children:"Category"}),Object(m.jsx)(i.a.Control,{type:"text",placeholder:"Enter Category",name:"category",value:D,onChange:_,isInvalid:!!C.category}),Object(m.jsx)(i.a.Control.Feedback,{type:"invalid",children:C.category})]}),Object(m.jsxs)(i.a.Group,{controlId:"Type",children:[Object(m.jsx)(i.a.Label,{children:"Type"}),Object(m.jsx)(i.a.Control,{type:"text",placeholder:"Enter Type",name:"Type",value:G,onChange:_,isInvalid:!!C.Type}),Object(m.jsx)(i.a.Control.Feedback,{type:"invalid",children:C.Type})]}),Object(m.jsxs)(i.a.Group,{controlId:"Connected Asset Name",children:[Object(m.jsx)(i.a.Label,{children:"Connected Asset Name"}),Object(m.jsx)(i.a.Control,{type:"text",placeholder:"Enter Connected Asset Name ",name:"asset",value:T,isInvalid:!!C.asset,onChange:_}),Object(m.jsx)(i.a.Control.Feedback,{type:"invalid",children:C.latitude})]}),!I&&Object(m.jsxs)(i.a.Group,{controlId:" Gateway Name",children:[Object(m.jsx)(i.a.Label,{children:"Gateway Name"}),Object(m.jsx)(i.a.Control,{type:"text",placeholder:"Enter Gateway Name",name:"gateway",value:E,onChange:_})]}),Object(m.jsxs)(i.a.Group,{controlId:"Enter Device's Latitude",children:[Object(m.jsx)(i.a.Label,{children:"Latitude"}),Object(m.jsx)(i.a.Control,{type:"Number",placeholder:"Enter Device's Latitude",name:"latitude",value:A,isInvalid:!!C.latitude,onChange:_}),Object(m.jsx)(i.a.Control.Feedback,{type:"invalid",children:C.latitude})]}),Object(m.jsxs)(i.a.Group,{controlId:"Enter Device's Longitude",children:[Object(m.jsx)(i.a.Label,{children:"Longitude"}),Object(m.jsx)(i.a.Control,{type:"Number",placeholder:"Enter Device's Longitude",name:"longitude",value:S,onChange:_,isInvalid:!!C.longitude}),Object(m.jsx)(i.a.Control.Feedback,{type:"invalid",children:C.longitude})]}),Object(m.jsxs)(i.a.Group,{controlId:"Model",children:[Object(m.jsx)(i.a.Label,{children:"Model"}),Object(m.jsx)(i.a.Control,{type:"text",placeholder:"Enter Model Name",name:"model",value:F,isInvalid:!!C.model,onChange:_}),Object(m.jsx)(i.a.Control.Feedback,{type:"invalid",children:C.mode})]}),Object(m.jsx)(i.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(m.jsx)(i.a.Check,{type:"checkbox",label:"Is gateway",onClick:function(){return L(!I)},checked:I})}),Object(m.jsxs)(j.a,{variant:"primary",type:"submit",children:["Add"," "]})]}),a&&Object(m.jsx)(h.a,{var:"success",message:"Device added successfully"})]})})}}}]);
//# sourceMappingURL=9.35cf027d.chunk.js.map