(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[7],{804:function(e,t,n){"use strict";t.__esModule=!0,t.LinkContainer=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),a=l(o),i=l(n(39)),s=n(137);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},p=t.LinkContainer=function(e){function t(){var n,r;u(this,t);for(var c=arguments.length,o=Array(c),a=0;a<c;a++)o[a]=arguments[a];return n=r=d(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(e){var t=r.props,n=t.children,c=t.onClick;if(n.props.onClick&&n.props.onClick(e),c&&c(e),!e.defaultPrevented&&0===e.button&&!f(e)){e.preventDefault();var o=r.props,a=o.replace,i=o.to,s=o.history;a?s.replace(i):s.push(i)}},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.history,o=(t.location,t.match,t.staticContext,t.children),i=(t.replace,t.to),l=t.exact,u=t.strict,d=t.activeClassName,f=t.className,p=t.activeStyle,h=t.style,j=t.isActive,b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["history","location","match","staticContext","children","replace","to","exact","strict","activeClassName","className","activeStyle","style","isActive"]),y=n.createHref("string"===typeof i?{pathname:i}:i),O=a.default.Children.only(o);return a.default.createElement(s.Route,{path:"object"===("undefined"===typeof i?"undefined":c(i))?i.pathname:i,exact:l,strict:u,children:function(t){var n=t.location,c=t.match,o=!!(j?j(c,n):c);return a.default.cloneElement(O,r({},b,{className:[f,O.props.className,o?d:null].join(" ").trim(),style:o?r({},h,p):h,href:y,onClick:e.handleClick}))}})},t}(o.Component);p.propTypes={history:i.default.shape({push:i.default.func.isRequired,replace:i.default.func.isRequired,createHref:i.default.func.isRequired}).isRequired,location:i.default.object,match:i.default.object,staticContext:i.default.object,children:i.default.element.isRequired,onClick:i.default.func,replace:i.default.bool,to:i.default.oneOfType([i.default.string,i.default.object]).isRequired,exact:i.default.bool,strict:i.default.bool,className:i.default.string,activeClassName:i.default.string,style:i.default.object,activeStyle:i.default.object,isActive:i.default.func},p.defaultProps={replace:!1,exact:!1,strict:!1,activeClassName:"active"},t.default=(0,s.withRouter)(p)},819:function(e,t,n){"use strict";t.__esModule=!0,t.LinkContainer=t.IndexLinkContainer=void 0;var r=o(n(820)),c=o(n(804));function o(e){return e&&e.__esModule?e:{default:e}}t.IndexLinkContainer=r.default,t.LinkContainer=c.default},820:function(e,t,n){"use strict";t.__esModule=!0,t.IndexLinkContainer=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=i(n(0)),o=n(137),a=i(n(804));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=t.IndexLinkContainer=function(e){function t(){return s(this,t),l(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return c.default.createElement(a.default,r({},this.props,{exact:!0}))},t}(c.default.Component);t.default=(0,o.withRouter)(u)},844:function(e,t,n){"use strict";n.r(t);var r=n(23),c=n.n(r),o=n(49),a=n(17),i=n(0),s=n(41),l=n.n(s),u=n(665),d=n(137),f=(n(819),n(2));n(458);t.default=function(e){var t=e.history,n=Object(i.useState)([]),r=Object(a.a)(n,2),s=r[0],p=r[1],h=Object(i.useState)(""),j=Object(a.a)(h,2),b=j[0],y=(j[1],Object(i.useState)("")),O=Object(a.a)(y,2),v=O[0],x=(O[1],function(){var e=Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/devices/all_devices");case 2:t=e.sent,n=t.data,p(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(i.useEffect)((function(){}),[]);var m=function(e){p(s.filter((function(t){return t._id!==e})))};function _(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}console.log(s),Object(i.useEffect)((function(){x()}),[]);var w=function(){var e=Object(o.a)(c.a.mark((function e(n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/device/".concat(n,"/rule"));case 2:r=e.sent,o=r.data,console.log(o),_(o)?t.push("/devices/".concat(n,"/rule")):alert("rule already exists.Please use this the edit button to edit the existing rule");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(b),console.log(v),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Devices"}),0===s.length?Object(f.jsx)("h3",{children:"No device found"}):Object(f.jsxs)(u.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Name"}),Object(f.jsx)("th",{children:"Type"}),Object(f.jsx)("th",{children:"Category"}),Object(f.jsx)("th",{children:"Gateway Name"}),Object(f.jsx)("th",{children:"Model"}),Object(f.jsx)("th",{children:"Telemetry"}),"Edit",Object(f.jsx)("th",{children:" Add Rule"}),Object(f.jsx)("th",{children:"Edit Rule"}),Object(f.jsx)("th",{children:"Delete"})]})}),Object(f.jsxs)("tbody",{children:[" ",console.log("inside body",s)," ",s&&s.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.Name}),Object(f.jsx)("td",{children:e.Type}),Object(f.jsx)("td",{children:e.category}),Object(f.jsx)("td",{children:e.Gateway_Name}),Object(f.jsx)("td",{children:e.model}),Object(f.jsxs)("td",{children:[" ",console.log("here",e.static_Gps_Location.latitude),Object(f.jsx)(d.Link,{to:"/devices/".concat(e._id,"/data/?lat=").concat(e.static_Gps_Location.latitude,"&lng=").concat(e.static_Gps_Location.longitude),children:"Get Telemetry"})]}),Object(f.jsx)("td",{children:Object(f.jsx)(d.Link,{to:"/devices/".concat(e._id,"/edit"),children:Object(f.jsx)("i",{className:"fas fa-edit"})})}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{onClick:function(){w(e._id)},children:"Add Rule"})}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{onClick:function(){var n;n=e._id,t.push("/devices/".concat(n,"/rule/edit"))},children:"Edit Rule"})}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{onClick:Object(o.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert("Are you sure you want to delete it"),t.next=3,l.a.delete("/device/".concat(e._id));case 3:n=t.sent,r=n.data,m(e._id),console.log(r);case 7:case"end":return t.stop()}}),t)}))),children:Object(f.jsx)("i",{className:"fas fa-trash"})})})]},e._id)}))]})]})]})}}}]);
//# sourceMappingURL=7.b1982b9e.chunk.js.map